<!DOCTYPE html>
<html lang="en"
      layout:decorate="~{decorators/web.html}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <title>Contact</title>
</head>
<body>
<div layout:fragment="content">
    <section class="hero hero-normal">
        <div class="container ">
            <div class="row">
                <div class="col-lg-3">
                    <div class="hero__categories leafCategories">
                        <div class="hero__categories__all">
                            <i class="fa fa-bars"></i>
                            <span>All Categories</span>
                        </div>
                        <ul>
                            <li th:each = "category : ${categories}"><a th:href="@{'/WEBPAGE/common/shopGrid?id=' + ${category.id}}">[[${category.name}]]</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="hero__search">
                        <div class="hero__search__form">
                            <form action="#">
                                <input type="text" placeholder="What do yo u need?">
                                <button type="submit" class="site-btn">SEARCH</button>
                            </form>
                        </div>
                        <div class="hero__search__phone">
                            <div class="hero__search__phone__icon">
                                <i class="fa fa-phone"></i>
                            </div>
                            <div class="hero__search__phone__text">
                                <h5>+84 969.087.705</h5>
                                <span>support 24/7 time</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Hero Section End -->

    <!-- Breadcrumb Section Begin -->
    <section class="breadcrumb-section set-bg" data-setbg="/web/img/backgroundNavbar.jpg">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="breadcrumb__text">
                        <h2>Contact Us</h2>
                        <div class="breadcrumb__option">
                            <a th:href="@{/WEBPAGE}">Home</a>
                            <span>Contact Us</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->

    <!-- Contact Section Begin -->
    <section class="contact spad">
        <div class="container ">
            <div class="row">
                <div class="col-lg-3 col-md-3 col-sm-6 text-center">
                    <div class="contact__widget">
                        <span class="icon_phone contact_icon"></span>
                        <h4>Phone</h4>
                        <p>+84.969.087.705</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 text-center">
                    <div class="contact__widget">
                        <span class="icon_pin_alt contact_icon"></span>
                        <h4>Address</h4>
                        <p>260 Lê Trọng Tấn - Khương Mai - Thanh Xuân - Hà Nội</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 text-center">
                    <div class="contact__widget">
                        <span class="icon_clock_alt contact_icon"></span>
                        <h4>Open time</h4>
                        <p>7:00 am to 23:00 pm</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 text-center">
                    <div class="contact__widget">
                        <span class="icon_mail_alt contact_icon"></span>
                        <h4>Email</h4>
                        <p>vanhieuit10@gmail.com</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Contact Section End -->

    <!-- Map Begin -->
    <div class="map">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3725.051273975728!2d105.83127561426922!3d20.99058168601905!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3135ac6141f96fc9%3A0x2e8023054b73cf64!2zMjYwIEzDqiBUcuG7jW5nIFThuqVuLCDEkOG7i25oIEPDtG5nLCBUaGFuaCBYdcOibiwgSMOgIE7hu5lpLCBWaeG7h3QgTmFt!5e0!3m2!1svi!2s!4v1652368190253!5m2!1svi!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        <div class="map-inside">
            <div class="inside-widget">
                <h4>Hà Nội</h4>
                <ul>
                    <li>Phone: +84.969.087.705</li>
                    <li>Add: 262 Lê Trọng Tấn - Khương Mai - Thanh Xuân, Hà Nội</li>
                </ul>
            </div>
        </div>
    </div>
    <!-- Map End -->

    <!-- Contact Form Begin -->
    <div class="contact-form">
        <div class="container contact-send">
            <div class="row">
                <div class="col-lg-12">
                    <div class="contact__form__title">
                        <h2>Leave Message</h2>
                    </div>
                </div>
            </div>
            <form id="formSubmit">
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <input type="text" id="name" name="name" placeholder="Your name">
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <input type="text" id="email" name="email" placeholder="Your Email">
                    </div>
                    <div class="col-lg-12 text-center">
                        <textarea id="message" name="message" placeholder="Your message"></textarea>
                        <input type="button" id="bSubmit" style="border-radius: 12px; padding: 0px;width: 15%;color: #fff;" class="site-btn" value="Send Message"/>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js" integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ=" crossorigin="anonymous"></script>
    <script th:inline="javascript">
        $("#bSubmit").click(function (e) {
            var check = true;
            check = checkAllFieldFilled(check);
            if (check) {
                check = checkEmail(check);
            }
            if (check) {
                add(data);
            }
        });

        function add(data) {
            $.ajax({
                url: '/api/contact',
                type: 'POST',
                contentType: 'application/json; charset=utf-8',
                data: JSON.stringify(data),
                dataType: 'json',
                success: function (result) {
                    Swal.fire({
                        title: 'Send message successfully!',
                        icon: 'success',
                        showCancelButton: false,
                        confirmButtonColor: '#3085d6',
                        confirmButtonText: 'Ok'
                    }).then((result)=> {
                        if (result.isConfirmed) {
                             window.location.href = "/WEBPAGE"
                        }
                    })
                },
                error: function (error) {
                    Swal.fire({
                        title: 'Error system!',
                        icon: 'error',
                        showCancelButton: true,
                        showConfirmButton: false,
                        cancelButtonColor: '#dd2222',
                        cancelButtonText: 'Ok'
                    }).then((result)=> {
                        if (result.isDenied) {
                            window.location.href = "/WEBPAGE"
                        }
                    })
                },
            });
        }
    </script>
</div>
</body>
</html>

